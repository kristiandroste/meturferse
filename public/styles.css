/* Cache buster: 2025-01-23-11:15 */
:root {
  /* Default theme: Classic Light */
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #e2e8f0;
  --text-primary: #1a202c;
  --text-secondary: #4a5568;
  --text-muted: #718096;
  --border: #e2e8f0;
  --accent: #3b82f6;
  --accent-hover: #2563eb;
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --shadow: rgba(0, 0, 0, 0.1);
  --glass-bg: rgba(255, 255, 255, 0.85);
  --glass-border: rgba(255, 255, 255, 0.2);
  --canvas-bg: #f8fafc;
  --header-texture: none;
  --footer-texture: none;
  --button-texture: none;
  --filter-highlight: #1e40af;
  /* Dark blue for good contrast against #91d5e4 */
}

[data-theme="dark"] {
  /* Dark Mode */
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-tertiary: #334155;
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;
  --border: #334155;
  --accent: #60a5fa;
  --accent-hover: #3b82f6;
  --success: #34d399;
  --warning: #fbbf24;
  --error: #f87171;
  --shadow: rgba(0, 0, 0, 0.3);
  --glass-bg: rgba(15, 23, 42, 0.85);
  --glass-border: rgba(148, 163, 184, 0.1);
  --canvas-bg: #0f172a;
  --header-texture: none;
  --footer-texture: none;
  --button-texture: none;
  --filter-highlight: #fbbf24;
  /* Bright yellow for excellent contrast */
}

[data-theme="pixel-forest"] {
  /* Pixel Art Woodsy Forest */
  --bg-primary: #2d5016;
  --bg-secondary: var(--wood-cherry-bg);
  --bg-tertiary: #4a7f28;
  --text-primary: #f0f4e8;
  --text-secondary: #d4e6c7;
  --text-muted: #a3c585;
  --border: #6b4423;
  --accent: #4a7f28;
  --accent-hover: #4db8ff;
  --success: #7fb069;
  --warning: #d4a574;
  --error: #d65d5d;
  --shadow: rgba(0, 0, 0, 0.4);
  --glass-bg: var(--wood-walnut-bg);
  --glass-border: rgba(205, 133, 63, 0.3);
  --canvas-bg: url('./images/turf-trees.png'), radial-gradient(circle at 30% 70%, #1a3d0a 0%, #2d5016 40%, #1f4a0c 100%);
  --header-texture: var(--wood-walnut);
  --footer-texture: var(--wood-walnut);
  --button-texture: var(--wood-cherry);
  --filter-highlight: #4a7f28;
  /* Lighter forest green for better contrast */
}

[data-theme="cyberpunk"] {
  /* Cyberpunk Neon */
  --bg-primary: #0a0a0a;
  --bg-secondary: #1a0d1a;
  --bg-tertiary: #2d1b2d;
  --text-primary: #00ff9f;
  --text-secondary: #ff006f;
  --text-muted: #9d4edd;
  --border: #7209b7;
  --accent: #00ff9f;
  --accent-hover: #00d67f;
  --success: #39ff14;
  --warning: #ffff00;
  --error: #ff073a;
  --shadow: rgba(255, 0, 111, 0.3);
  --glass-bg: rgba(10, 10, 10, 0.9);
  --glass-border: rgba(0, 255, 159, 0.2);
  --canvas-bg: radial-gradient(circle at 50% 50%, #1a0d1a 0%, #0a0a0a 100%);
  --header-texture: linear-gradient(90deg, rgba(0, 255, 159, 0.1) 0%, rgba(255, 0, 111, 0.1) 100%);
  --footer-texture: linear-gradient(90deg, rgba(0, 255, 159, 0.1) 0%, rgba(255, 0, 111, 0.1) 100%);
  --button-texture: linear-gradient(135deg, rgba(0, 255, 159, 0.2) 0%, rgba(255, 0, 111, 0.2) 100%);
  --filter-highlight: #39ff14;
  /* Bright neon green for cyberpunk contrast */
}

[data-theme="ocean-depths"] {
  /* Ocean Depths */
  --bg-primary: #001f3f;
  --bg-secondary: #003366;
  --bg-tertiary: #004080;
  --text-primary: #e6f3ff;
  --text-secondary: #b3d9ff;
  --text-muted: #80bfff;
  --border: #0066cc;
  --accent: #00ccff;
  --accent-hover: #0099cc;
  --success: #4dd2ff;
  --warning: #ffcc00;
  --error: #ff4d4d;
  --shadow: rgba(0, 204, 255, 0.2);
  --glass-bg: rgba(0, 31, 63, 0.85);
  --glass-border: rgba(0, 204, 255, 0.2);
  --canvas-bg: radial-gradient(ellipse at 50% 100%, #003366 0%, #001f3f 70%, #000d1a 100%);
  --header-texture: linear-gradient(180deg, rgba(0, 204, 255, 0.1) 0%, transparent 100%);
  --footer-texture: linear-gradient(0deg, rgba(0, 204, 255, 0.1) 0%, transparent 100%);
  --button-texture: linear-gradient(135deg, rgba(0, 204, 255, 0.2) 0%, rgba(0, 153, 204, 0.2) 100%);
  --filter-highlight: #ff6347;
  /* Coral for contrast against ocean blues */
}

[data-theme="desert-sunset"] {
  /* Desert Sunset */
  --bg-primary: #8b4513;
  --bg-secondary: #cd853f;
  --bg-tertiary: #d2691e;
  --text-primary: #fff8dc;
  --text-secondary: #ffe4b5;
  --text-muted: #daa520;
  --border: #a0522d;
  --accent: #ff6347;
  --accent-hover: #ff4500;
  --success: #9acd32;
  --warning: #ffd700;
  --error: #dc143c;
  --shadow: rgba(255, 99, 71, 0.3);
  --glass-bg: rgba(139, 69, 19, 0.85);
  --glass-border: rgba(255, 99, 71, 0.2);
  --canvas-bg: linear-gradient(180deg, #ff6347 0%, #ff8c00 30%, #ffd700 60%, #cd853f 100%);
  --header-texture: linear-gradient(90deg, rgba(255, 99, 71, 0.2) 0%, rgba(255, 140, 0, 0.2) 100%);
  --footer-texture: linear-gradient(90deg, rgba(255, 99, 71, 0.2) 0%, rgba(255, 140, 0, 0.2) 100%);
  --button-texture: linear-gradient(135deg, rgba(255, 99, 71, 0.3) 0%, rgba(255, 140, 0, 0.3) 100%);
  --filter-highlight: #8b008b;
  /* Dark magenta for contrast against warm colors */
}

[data-theme="arctic-frost"] {
  /* Arctic Frost */
  --bg-primary: #f0f8ff;
  --bg-secondary: #e6f2ff;
  --bg-tertiary: #ccebff;
  --text-primary: #003366;
  --text-secondary: #0066cc;
  --text-muted: #4d94ff;
  --border: #b3d9ff;
  --accent: #0080ff;
  --accent-hover: #0066cc;
  --success: #00cc99;
  --warning: #ffcc00;
  --error: #ff3366;
  --shadow: rgba(0, 128, 255, 0.2);
  --glass-bg: rgba(240, 248, 255, 0.9);
  --glass-border: rgba(0, 128, 255, 0.2);
  --canvas-bg: radial-gradient(circle at 50% 50%, #ffffff 0%, #f0f8ff 50%, #e6f2ff 100%);
  --header-texture: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(0, 128, 255, 0.1) 100%);
  --footer-texture: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(0, 128, 255, 0.1) 100%);
  --button-texture: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(0, 128, 255, 0.2) 100%);
  --filter-highlight: #1e3a8a;
  /* Deep navy for contrast against light arctic */
}

[data-theme="retro-terminal"] {
  /* Retro Terminal */
  --bg-primary: #000000;
  --bg-secondary: #003300;
  --bg-tertiary: #006600;
  --text-primary: #00ff00;
  --text-secondary: #00cc00;
  --text-muted: #009900;
  --border: #00ff00;
  --accent: #00ff00;
  --accent-hover: #33ff33;
  --success: #00ff00;
  --warning: #ffff00;
  --error: #ff0000;
  --shadow: rgba(0, 255, 0, 0.3);
  --glass-bg: rgba(0, 0, 0, 0.9);
  --glass-border: rgba(0, 255, 0, 0.2);
  --canvas-bg: #000000;
  --header-texture: repeating-linear-gradient(0deg, transparent 0px, transparent 1px, rgba(0, 255, 0, 0.1) 1px, rgba(0, 255, 0, 0.1) 2px);
  --footer-texture: repeating-linear-gradient(0deg, transparent 0px, transparent 1px, rgba(0, 255, 0, 0.1) 1px, rgba(0, 255, 0, 0.1) 2px);
  --button-texture: linear-gradient(135deg, rgba(0, 255, 0, 0.2) 0%, rgba(0, 204, 0, 0.2) 100%);
  --filter-highlight: #00ff00;
  /* Keep bright green for terminal authenticity */
}

[data-theme="royal-purple"] {
  /* Royal Purple */
  --bg-primary: #2d1b4e;
  --bg-secondary: #3d2b5e;
  --bg-tertiary: #4d3b6e;
  --text-primary: #f4f1ff;
  --text-secondary: #e6dcff;
  --text-muted: #c8b3ff;
  --border: #6b46c1;
  --accent: #ffd700;
  --accent-hover: #ffed4e;
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --shadow: rgba(255, 215, 0, 0.3);
  --glass-bg: rgba(45, 27, 78, 0.9);
  --glass-border: rgba(255, 215, 0, 0.2);
  --canvas-bg: radial-gradient(circle at 50% 50%, #3d2b5e 0%, #2d1b4e 70%, #1d0b3e 100%);
  --header-texture: linear-gradient(135deg, rgba(107, 70, 193, 0.3) 0%, rgba(255, 215, 0, 0.1) 100%);
  --footer-texture: linear-gradient(135deg, rgba(107, 70, 193, 0.3) 0%, rgba(255, 215, 0, 0.1) 100%);
  --button-texture: linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(107, 70, 193, 0.2) 100%);
  --filter-highlight: #ffd700;
  /* Bright gold for royal contrast */
}

[data-theme="minimalist-mono"] {
  /* Minimalist Monochrome */
  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f5;
  --bg-tertiary: #e0e0e0;
  --text-primary: #000000;
  --text-secondary: #333333;
  --text-muted: #666666;
  --border: #cccccc;
  --accent: #000000;
  --accent-hover: #333333;
  --success: #666666;
  --warning: #999999;
  --error: #333333;
  --shadow: rgba(0, 0, 0, 0.1);
  --glass-bg: rgba(255, 255, 255, 0.95);
  --glass-border: rgba(0, 0, 0, 0.1);
  --canvas-bg: #ffffff;
  --header-texture: none;
  --footer-texture: none;
  --button-texture: none;
  --filter-highlight: #000000;
  /* Pure black for maximum contrast */
}

[data-theme="pastel-dream"] {
  /* Pastel Dream */
  --bg-primary: #fef7ff;
  --bg-secondary: #fae8ff;
  --bg-tertiary: #f5d0fe;
  --text-primary: #581c87;
  --text-secondary: #7c3aed;
  --text-muted: #a855f7;
  --border: #e4c2f0;
  --accent: #f472b6;
  --accent-hover: #ec4899;
  --success: #86efac;
  --warning: #fde047;
  --error: #fca5a5;
  --shadow: rgba(244, 114, 182, 0.2);
  --glass-bg: rgba(254, 247, 255, 0.9);
  --glass-border: rgba(244, 114, 182, 0.2);
  --canvas-bg: radial-gradient(circle at 30% 70%, #fef7ff 0%, #fae8ff 50%, #f5d0fe 100%);
  --header-texture: linear-gradient(135deg, rgba(244, 114, 182, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
  --footer-texture: linear-gradient(135deg, rgba(244, 114, 182, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
  --button-texture: linear-gradient(135deg, rgba(244, 114, 182, 0.2) 0%, rgba(168, 85, 247, 0.2) 100%);
  --filter-highlight: #be185d;
  /* Deep pink for pastel contrast */
}

[data-theme="industrial-steel"] {
  /* Industrial Steel */
  --bg-primary: #1c1c1e;
  --bg-secondary: #2c2c2e;
  --bg-tertiary: #3a3a3c;
  --text-primary: #f2f2f7;
  --text-secondary: #c7c7cc;
  --text-muted: #8e8e93;
  --border: #48484a;
  --accent: #ff9500;
  --accent-hover: #ff8c00;
  --success: #30d158;
  --warning: #ff9f0a;
  --error: #ff453a;
  --shadow: rgba(255, 149, 0, 0.2);
  --glass-bg: rgba(28, 28, 30, 0.9);
  --glass-border: rgba(255, 149, 0, 0.2);
  --canvas-bg: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 50%, #1c1c1e 100%);
  --header-texture: repeating-linear-gradient(45deg, rgba(255, 149, 0, 0.1) 0px, rgba(255, 149, 0, 0.1) 2px, transparent 2px, transparent 8px);
  --footer-texture: repeating-linear-gradient(45deg, rgba(255, 149, 0, 0.1) 0px, rgba(255, 149, 0, 0.1) 2px, transparent 2px, transparent 8px);
  --button-texture: linear-gradient(135deg, rgba(255, 149, 0, 0.2) 0%, rgba(72, 72, 74, 0.2) 100%);
  --filter-highlight: #ff9500;
  /* Bright industrial orange */
}

[data-theme="cosmic-space"] {
  /* Cosmic Space */
  --bg-primary: #0c0c0c;
  --bg-secondary: #1a0d26;
  --bg-tertiary: #2d1b4e;
  --text-primary: #ffffff;
  --text-secondary: #b794f6;
  --text-muted: #805ad5;
  --border: #553c9a;
  --accent: #9f7aea;
  --accent-hover: #805ad5;
  --success: #68d391;
  --warning: #f6e05e;
  --error: #fc8181;
  --shadow: rgba(159, 122, 234, 0.3);
  --glass-bg: rgba(12, 12, 12, 0.9);
  --glass-border: rgba(159, 122, 234, 0.2);
  --canvas-bg: radial-gradient(ellipse at 20% 80%, #1a0d26 0%, #0c0c0c 50%), radial-gradient(ellipse at 80% 20%, #2d1b4e 0%, transparent 50%), radial-gradient(ellipse at 40% 40%, #553c9a 0%, transparent 50%);
  --header-texture: linear-gradient(90deg, rgba(159, 122, 234, 0.1) 0%, rgba(128, 90, 213, 0.1) 100%);
  --footer-texture: linear-gradient(90deg, rgba(159, 122, 234, 0.1) 0%, rgba(128, 90, 213, 0.1) 100%);
  --button-texture: linear-gradient(135deg, rgba(159, 122, 234, 0.2) 0%, rgba(85, 60, 154, 0.2) 100%);
  --filter-highlight: #ffffff;
  /* Pure white for cosmic contrast */
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body,
html {
  height: 100%;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background: var(--canvas-bg, var(--bg-primary));
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease, background 0.3s ease;
}

/* HEADER */
#header {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  background: var(--glass-bg);
  background-image: var(--header-texture);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  z-index: 100;
}

[data-theme="pixel-forest"] #header {
  background-size: 500px 20px, 300px 20px, 20px 820px;
  background-position: 50% 50%, 70% 70%, 30% 30%;
  background-repeat: repeat, repeat, repeat;
}

#headerTop {
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
}

.desktop-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

.header-section {
  display: flex;
  align-items: center;
  gap: 8px;
}

.logo {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--accent);
  text-decoration: none;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.logo-tagline {
  font-size: 0.75rem;
  font-weight: 400;
  color: var(--accent);
  margin-top: 2px;
  display: block;
}

/* MOBILE MENU */
.mobile-menu-toggle {
  display: none;
  flex-direction: column;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  gap: 4px;
}

.mobile-menu-toggle span {
  width: 22px;
  height: 3px;
  background: var(--text-primary);
  transition: all 0.3s ease;
  border-radius: 2px;
}

.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}

.mobile-menu {
  display: none;
  background: var(--bg-primary);
  border-top: 1px solid var(--border);
  padding: 16px 20px;
  max-height: calc(100vh - 60px);
  overflow-y: auto;
  box-shadow: 0 4px 12px var(--shadow);
}

/* Pixel Forest wood grain styling for mobile menu */
[data-theme="pixel-forest"] .mobile-menu {
  background: var(--wood-original-bg);
  background-image: var(--wood-original);
  background-size: 300px 20px, 200px 20px, 20px 300px;
  background-position: 0% 0%, 50% 50%, 25% 25%;
  background-repeat: repeat, repeat, repeat;
}

.mobile-menu.show {
  display: block;
  animation: slideDown 0.3s ease;
}

.mobile-menu-section {
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border);
}

.mobile-menu-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.mobile-menu-section>label:first-child {
  display: block;
  font-weight: 600;
  margin-bottom: 8px;
  color: var(--text-secondary);
  font-size: 14px;
}

.mobile-menu-section button {
  width: 100%;
  justify-content: center;
}

button,
#filterToggle {
  background: var(--bg-secondary);
  background-image: var(--button-texture);
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  color: var(--text-primary);
  padding: 8px 12px;
  transition: all 0.2s ease;
  font-weight: 500;
  min-height: 36px;
  box-sizing: border-box;
}

button:hover,
#filterToggle:hover {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--shadow);
}

button:active {
  transform: translateY(0);
}

.btn-icon {
  background: none;
  border: none;
  padding: 8px;
  border-radius: 8px;
  font-size: 18px;
}

.btn-primary {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.btn-primary:hover {
  background: var(--accent-hover);
  border-color: var(--accent-hover);
}

#zoomLv {
  min-width: 50px;
  text-align: center;
  font-weight: 600;
  font-size: 14px;
  color: var(--text-secondary);
  padding: 4px 8px;
  background: var(--bg-tertiary);
  border-radius: 6px;
}

#active {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  max-width: calc(100vw - 8px);
  scrollbar-width: thin;
  scrollbar-color: var(--accent) transparent;
  flex-wrap: nowrap;
  padding-bottom: 8px;
}

#active::-webkit-scrollbar {
  height: 8px;
}

#active::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

#active::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}

#active::-webkit-scrollbar-thumb:hover {
  background: var(--accent-hover);
}

.chip {
  background: var(--accent);
  color: white;
  border-radius: 16px;
  padding: 6px 12px;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
  min-height: 32px;
  box-sizing: border-box;
}

.chip:hover {
  background: var(--accent-hover);
}

.wallet-chip {
  color: white;
}

.chip-close {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 14px;
  padding: 4px;
  margin: 0;
  opacity: 0.8;
  transition: opacity 0.2s ease;
  min-width: 20px;
  min-height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.chip-close:hover {
  opacity: 1;
  background: rgba(255, 255, 255, 0.2);
  transform: none;
}

.shade-toggle-wrapper {
  display: inline-block;
  position: relative;
}

.shade-toggle-wrapper input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.shade-toggle-label {
  display: inline-block;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px 12px;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
  min-height: 36px;
  box-sizing: border-box;
  line-height: 1.2;
}

.shade-toggle-wrapper input:not(:disabled)+.shade-toggle-label:hover {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--shadow);
}

.shade-toggle-wrapper input:disabled+.shade-toggle-label {
  opacity: 0.5;
  cursor: not-allowed;
}

.shade-toggle-wrapper input:checked+.shade-toggle-label {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.filter-text-input {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 14px;
  transition: border-color 0.2s ease;
}

.filter-text-input:focus {
  outline: none;
  border-color: var(--accent);
}

.filter-text-input::placeholder {
  color: var(--text-secondary);
}

.filter-input-container {
  display: flex;
  gap: 8px;
  align-items: center;
}

.filter-input-container .filter-text-input {
  flex: 1;
}

.filter-add-btn {
  background: var(--accent);
  color: white;
  border: none;
  border-radius: 6px;
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 50px;
}

.filter-add-btn:hover {
  background: var(--accent-hover);
  transform: translateY(-1px);
}

.filter-add-btn:active {
  transform: translateY(0);
}

#shadeToggle {
  margin: 0;
  accent-color: var(--accent);
}

#walletInput {
  min-width: 80px;
  flex-basis: 0;
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 14px;
  transition: all 0.2s ease;
  min-height: 36px;
  box-sizing: border-box;
}

#walletInput:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

#walletInput::placeholder {
  color: var(--text-muted);
}

.theme-selector-wrapper {
  position: relative;
}

#themeSelector,
#themeSelectorMobile {
  background: var(--bg-secondary);
  background-image: var(--button-texture);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 36px;
  min-width: 140px;
  box-sizing: border-box;
}

#themeSelector:hover,
#themeSelectorMobile:hover {
  background: var(--accent);
  background-image: none;
  color: white;
  border-color: var(--accent);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--shadow);
}

#themeSelector:focus,
#themeSelectorMobile:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

#themeSelectorMobile {
  width: 100%;
  min-height: 44px;
  padding: 12px 16px;
}

/* FILTER PANEL */
#panel {
  position: absolute;
  top: 60px;
  left: 0;
  right: 0;
  max-height: calc(100vh - 60px);
  overflow-y: auto;
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  padding: 20px;
  display: none;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  z-index: 90;
  animation: slideDown 0.3s ease;
}

#panel.show {
  display: grid;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* FAQ MODAL */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(4px);
  z-index: 1001;
}

.modal {
  background: var(--bg-primary);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 32px;
  max-width: 700px;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  box-shadow: 0 20px 40px var(--shadow);
  animation: slideUp 0.3s ease;
}

/* Custom scrollbar for modal */
.modal::-webkit-scrollbar {
  width: 8px;
}

.modal::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

.modal::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}

.modal::-webkit-scrollbar-thumb:hover {
  background: var(--accent-hover);
}

/* Firefox scrollbar */
.modal {
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--bg-secondary);
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 20px;
  color: var(--text-primary);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-close:hover {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
  transform: scale(1.1);
}

.modal h2 {
  margin: 0 0 24px 0;
  color: var(--text-primary);
  font-size: 1.5rem;
  font-weight: 700;
  text-align: center;
  border-bottom: 2px solid var(--border);
  padding-bottom: 16px;
}

.faq-section {
  margin-bottom: 24px;
  padding: 20px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 12px;
  transition: all 0.2s ease;
}

.faq-section:hover {
  border-color: var(--accent);
  box-shadow: 0 4px 12px var(--shadow);
}

.faq-section h3 {
  margin: 0 0 12px 0;
  color: var(--accent);
  font-size: 1.1rem;
  font-weight: 600;
}

.faq-section p {
  margin: 0 0 12px 0;
  color: var(--text-primary);
  line-height: 1.6;
  font-size: 14px;
}

.faq-section p:last-child {
  margin-bottom: 0;
}

.faq-section p strong {
  color: var(--text-primary);
  font-weight: 600;
}

/* Pixel Forest wood grain styling for FAQ modal */
[data-theme="pixel-forest"] .modal {
  background: var(--wood-original-bg);
  background-image: var(--wood-original);
  background-size: 300px 20px, 200px 20px, 20px 300px;
  background-position: 0% 0%, 50% 50%, 25% 25%;
  background-repeat: repeat, repeat, repeat;
}

[data-theme="pixel-forest"] .faq-section {
  background: var(--wood-walnut-bg);
  background-image: var(--wood-walnut);
  background-size: 200px 15px, 150px 15px, 15px 200px;
  background-position: 0% 0%, 25% 25%, 50% 50%;
  background-repeat: repeat, repeat, repeat;
  border-color: rgba(139, 69, 19, 0.6);
}

#panel::-webkit-scrollbar {
  width: 8px;
}

#panel::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

#panel::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}

#panel::-webkit-scrollbar-thumb:hover {
  background: var(--accent-hover);
}

/* Firefox scrollbar */
#panel {
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--bg-secondary);
}

.filter {
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: var(--bg-primary);
  padding: 16px;
  border-radius: 12px;
  border: 1px solid var(--border);
  transition: all 0.2s ease;
}

.filter:hover {
  border-color: var(--accent);
  box-shadow: 0 4px 12px var(--shadow);
}

.filter label {
  font-weight: 600;
  font-size: 14px;
  color: var(--text-primary);
  margin-bottom: 0;
}

.filter input,
.filter select {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 14px;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

.filter input:focus,
.filter select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.filter-range {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.filter-range input {
  width: 100%;
}

/* CANVAS */
#canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  cursor: grab;
}

#canvas:active {
  cursor: grabbing;
}

/* POPUP OVERLAY */
#overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(4px);
  z-index: 200;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease;
}

#overlay.show {
  display: flex;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

#popup {
  background: var(--bg-primary);
  border: 1px solid var(--border);
  padding: 24px;
  padding-top: 52px;
  /* Extra padding to avoid X button overlap */
  border-radius: 16px;
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto;
  box-shadow: 0 20px 40px var(--shadow);
  position: relative;
  animation: slideUp 0.3s ease;
}

/* Pixel Forest wood grain styling for popup */
[data-theme="pixel-forest"] #popup {
  background: var(--wood-original-bg);
  background-image: var(--wood-original);
  background-size: 300px 20px, 200px 20px, 20px 300px;
  background-position: 0% 0%, 50% 50%, 25% 25%;
  background-repeat: repeat, repeat, repeat;
}

[data-theme="pixel-forest"] #popupMeta p {
  background: var(--wood-walnut-bg);
  background-image: var(--wood-walnut);
  background-size: 200px 15px, 150px 15px, 15px 200px;
  background-position: 0% 0%, 25% 25%, 50% 50%;
  background-repeat: repeat, repeat, repeat;
  border-color: rgba(139, 69, 19, 0.6);
}

/* Custom scrollbar for popup */
#popup::-webkit-scrollbar {
  width: 8px;
}

#popup::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

#popup::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}

#popup::-webkit-scrollbar-thumb:hover {
  background: var(--accent-hover);
}

/* Firefox scrollbar */
#popup {
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--bg-secondary);
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

#popup img {
  width: 256px;
  height: 256px;
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: all 0.2s ease;
}

#popup img:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px var(--shadow);
  border-color: var(--accent);
}


#popupMeta {
  margin-top: 20px;
  font-size: 14px;
  color: var(--text-primary);
}

#popupMeta p {
  margin: 8px 0;
  padding: 8px;
  background: var(--bg-secondary);
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
}

#popupMeta strong {
  color: var(--text-primary);
  font-weight: 600;
}

#backBtn {
  position: absolute;
  top: 16px;
  right: 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 18px;
  color: var(--text-primary);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

#backBtn:hover {
  background: var(--error);
  color: white;
  border-color: var(--error);
}

/* FULL-SCREEN IMAGE OVERLAY */
#fullscreenOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(8px);
  z-index: 300;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease;
  cursor: pointer;
}

#fullscreenOverlay.show {
  display: flex;
}

#fullscreenImage {
  max-width: 90vw;
  max-height: 90vh;
  width: auto;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
  animation: zoomIn 0.3s ease;
  pointer-events: none;
  /* Prevent clicking on image itself */
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* RESPONSIVE DESIGN */
@media (max-width: 818px) {
  .desktop-controls {
    display: none;
  }

  .mobile-menu-toggle {
    display: flex;
  }

  #headerTop {
    padding: 0 16px;
  }

  #active {
    padding: 8px 16px;
    justify-content: flex-start;
    flex-wrap: nowrap;
    max-width: calc(100vw - 8px);
    overflow-x: auto;
  }

  .chip {
    font-size: 11px;
    padding: 4px 10px;
    min-height: 28px;
    flex-shrink: 0;
  }

  .chip-close {
    min-width: 16px;
    min-height: 16px;
    font-size: 12px;
    padding: 2px;
  }

  #panel {
    top: 60px;
    max-height: calc(100vh - 60px);
    grid-template-columns: 1fr;
    padding: 12px;
    gap: 12px;
    z-index: 95;
  }

  .filter {
    padding: 12px;
  }

  .mobile-menu-section .header-section {
    justify-content: center;
    gap: 12px;
  }

  .mobile-menu-section input {
    width: 100%;
    min-height: 44px;
  }

  .mobile-menu-section button {
    min-height: 44px;
    padding: 12px 16px;
  }

  .mobile-menu-section .shade-toggle-label {
    width: 100%;
    min-height: 44px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #canvas {
    touch-action: none;
  }

  #popup {
    margin: 20px;
    padding: 16px;
    padding-top: 48px;
    /* Adjust for mobile X button */
    max-width: calc(100vw - 40px);
    max-height: calc(100vh - 40px);
  }

  #popup img {
    width: 200px;
    height: 200px;
  }

  #fullscreenImage {
    max-width: 95vw;
    max-height: 95vh;
  }
}

@media (max-width: 480px) {
  #headerTop {
    padding: 0 12px;
    height: 56px;
  }

  .logo {
    font-size: 1.2rem !important;
  }

  .logo-tagline {
    font-size: 0.6rem;
  }

  .mobile-menu-toggle {
    padding: 6px;
  }

  .mobile-menu-toggle span {
    width: 18px;
    height: 2px;
  }

  .mobile-menu-toggle.active span:nth-child(1) {
    transform: rotate(45deg) translate(4px, 4px);
  }

  .mobile-menu-toggle.active span:nth-child(3) {
    transform: rotate(-45deg) translate(4px, -4px);
  }

  #active {
    padding: 6px 12px;
    gap: 6px;
  }

  .chip {
    font-size: 10px;
    padding: 3px 8px;
    min-height: 24px;
    gap: 4px;
  }

  .chip-close {
    min-width: 14px;
    min-height: 14px;
    font-size: 10px;
    padding: 1px;
  }

  .mobile-menu {
    padding: 12px 16px;
  }

  .mobile-menu-section {
    margin-bottom: 12px;
    padding-bottom: 12px;
  }

  .mobile-menu-section>label:first-child {
    font-size: 13px;
    margin-bottom: 6px;
  }

  .mobile-menu-section input {
    font-size: 14px;
    padding: 10px 12px;
  }

  .mobile-menu-section button {
    font-size: 13px;
    padding: 10px 14px;
  }

  #panel {
    padding: 8px;
    gap: 8px;
  }

  .filter {
    padding: 8px;
  }

  #popup {
    margin: 16px;
    padding: 12px;
    padding-top: 44px;
    /* Adjust for mobile X button */
  }

  #popup img {
    width: 150px;
    height: 150px;
  }

  #backBtn {
    width: 36px;
    height: 36px;
    font-size: 16px;
  }

  #fullscreenImage {
    max-width: 98vw;
    max-height: 98vh;
  }
}

/* LOADING ANIMATION */
.loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
  text-align: center;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid var(--border);
  border-top: 4px solid var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 16px;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

.loading-text {
  color: var(--text-secondary);
  font-size: 14px;
}

/* UTILITY CLASSES */
.hidden {
  display: none !important;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* FOCUS STYLES */
button:focus-visible,
input:focus-visible,
select:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Accessibility enhancements */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  [data-theme="cosmic-space"] body::before {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --border: #000000;
    --shadow: rgba(0, 0, 0, 0.8);
  }

  [data-theme="dark"] {
    --border: #ffffff;
    --text-muted: #ffffff;
  }
}

/* Ensure theme selector is accessible */
#themeSelector option,
#themeSelectorMobile option {
  background: var(--bg-primary);
  color: var(--text-primary);
}

/* FOOTER */
#footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--glass-bg);
  background-image: var(--footer-texture);
  backdrop-filter: blur(12px);
  border-top: 1px solid var(--border);
  z-index: 85;
  padding: 12px 20px;
}

[data-theme="pixel-forest"] #footer {
  background-size: 500px 20px, 300px 20px, 20px 820px;
  background-position: 50% 50%, 70% 70%, 30% 30%;
  background-repeat: repeat, repeat, repeat;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  gap: 20px;
}

.footer-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.footer-section p {
  margin: 0;
  font-size: 0.875rem;
  color: var(--text-secondary);
  text-align: center;
}

.footer-message p {
  font-size: 0.75rem;
}

.footer-tribute strong {
  color: var(--accent);
  font-weight: 600;
}

.footer-link {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-primary);
  text-decoration: none;
  font-size: 0.875rem;
  font-weight: 500;
  transition: color 0.2s ease;
}

.footer-link:hover {
  color: var(--accent);
}

.footer-icon {
  font-size: 1rem;
}

.footer-donate {
  display: inline-block;
  background: var(--accent);
  color: white;
  text-decoration: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  margin: 6px;
  transition: background 0.2s ease;
}

.footer-donate:hover {
  background: var(--accent-hover);
}

/* Pixel Forest specific overrides */
[data-theme="pixel-forest"] .logo,
[data-theme="pixel-forest"] .footer-donate {
  color: #66ccff !important;
}

[data-theme="pixel-forest"] .footer-donate {
  background: #66ccff !important;
  color: white !important;
}

[data-theme="pixel-forest"] .footer-donate:hover {
  background: #4db8ff !important;
}

/* Pixel Forest specific panel styling */
[data-theme="pixel-forest"] #panel {
  background: var(--wood-original-bg);
  background-image: var(--wood-original);
  background-size: 300px 20px, 200px 20px, 20px 300px;
  background-position: 0% 0%, 50% 50%, 25% 25%;
  background-repeat: repeat, repeat, repeat;
}

[data-theme="pixel-forest"] .filter {
  background: var(--wood-original-bg);
  background-image: var(--wood-original);
  background-size: 200px 15px, 150px 15px, 15px 200px;
  background-position: 0% 0%, 25% 25%, 50% 50%;
  background-repeat: repeat, repeat, repeat;
  border-color: rgba(139, 69, 19, 0.6);
}

[data-theme="pixel-forest"] .filter label {
  color: #f0f4e8;
  font-weight: 700;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

[data-theme="pixel-forest"] .filter input,
[data-theme="pixel-forest"] .filter select {
  background: rgba(255, 255, 255, 0.95);
  color: #2d1b00;
  border-color: rgba(139, 69, 19, 0.4);
}

/* Pixel Forest Wood Grain CSS Variables */
[data-theme="pixel-forest"] {
  /* Original wood grain (for headers/footers) */
  --wood-original:
    linear-gradient(to right, rgba(238, 196, 135, .8) 0%, rgba(243, 207, 154, .8) 3%, rgba(248, 216, 162, .8) 6%, rgba(243, 207, 154, .8) 6%, rgba(243, 207, 154, .8) 9%, rgba(241, 202, 136, .8) 12%, rgba(243, 207, 154, .8) 15%, rgba(244, 208, 158, .8) 17%, rgba(243, 207, 154, .8) 19%, rgba(243, 207, 154, .8) 21%, rgba(250, 221, 176, .8) 23%, rgba(250, 221, 176, .8) 25%, rgba(243, 207, 154, .8) 27%, rgba(238, 200, 138, .8) 29%, rgba(243, 207, 154, .8) 29%, rgba(243, 207, 154, .8) 32%, rgba(243, 207, 154, .8) 34%, rgba(243, 207, 154, .8) 37%, rgba(250, 221, 176, .8) 40%, rgba(250, 221, 176, .8) 43%, rgba(243, 207, 154, .8) 43%, rgba(243, 207, 154, .8) 44%, rgba(243, 207, 154, .8) 47%, rgba(238, 200, 138, .8) 49%, rgba(243, 207, 154, .8) 52%, rgba(250, 221, 176, .8) 54%, rgba(244, 208, 158, .8) 56%, rgba(243, 207, 154, .8) 59%, rgba(244, 208, 158, .8) 61%, rgba(250, 221, 176, .8) 64%, rgba(243, 207, 154, .8) 64%, rgba(244, 208, 158, .8) 66%, rgba(243, 207, 154, .8) 69%, rgba(248, 216, 162, .8) 71%, rgba(243, 207, 154, .8) 74%, rgba(243, 207, 154, .8) 76%, rgba(243, 207, 154, .8) 77%, rgba(243, 207, 154, .8) 80%, rgba(250, 221, 176, .8) 81%, rgba(243, 207, 154, .8) 83%, rgba(250, 221, 176, .8) 83%, rgba(250, 221, 176, .8) 85%, rgba(243, 207, 154, .8) 87%, rgba(250, 221, 176, .8) 89%, rgba(250, 221, 176, .8) 91%, rgba(243, 207, 154, .8) 92%, rgba(248, 216, 162, .8) 96%, rgba(243, 207, 154, .8) 97%, rgba(243, 207, 154, .8) 97%, rgba(243, 207, 154, .8) 98%, rgba(243, 207, 154, .8) 100%),
    linear-gradient(to left, rgba(238, 196, 135, .6) 0%, rgba(243, 207, 154, .6) 3%, rgba(248, 216, 162, .6) 6%, rgba(243, 207, 154, .6) 6%, rgba(243, 207, 154, .6) 9%, rgba(241, 202, 136, .6) 12%, rgba(243, 207, 154, .6) 15%, rgba(244, 208, 158, .6) 17%, rgba(243, 207, 154, .6) 19%, rgba(243, 207, 154, .6) 21%, rgba(250, 221, 176, .6) 23%, rgba(250, 221, 176, .6) 25%, rgba(243, 207, 154, .6) 27%, rgba(238, 200, 138, .6) 29%, rgba(243, 207, 154, .6) 29%, rgba(243, 207, 154, .6) 32%, rgba(243, 207, 154, .6) 34%, rgba(243, 207, 154, .6) 37%, rgba(250, 221, 176, .6) 40%, rgba(250, 221, 176, .6) 43%, rgba(243, 207, 154, .6) 43%, rgba(243, 207, 154, .6) 44%, rgba(243, 207, 154, .6) 47%, rgba(238, 200, 138, .6) 49%, rgba(243, 207, 154, .6) 52%, rgba(250, 221, 176, .6) 54%, rgba(244, 208, 158, .6) 56%, rgba(243, 207, 154, .6) 59%, rgba(244, 208, 158, .6) 61%, rgba(250, 221, 176, .6) 64%, rgba(243, 207, 154, .6) 64%, rgba(244, 208, 158, .6) 66%, rgba(243, 207, 154, .6) 69%, rgba(248, 216, 162, .6) 71%, rgba(243, 207, 154, .6) 74%, rgba(243, 207, 154, .6) 76%, rgba(243, 207, 154, .6) 77%, rgba(243, 207, 154, .6) 80%, rgba(250, 221, 176, .6) 81%, rgba(243, 207, 154, .6) 83%, rgba(250, 221, 176, .6) 83%, rgba(250, 221, 176, .6) 85%, rgba(243, 207, 154, .6) 87%, rgba(250, 221, 176, .6) 89%, rgba(250, 221, 176, .6) 91%, rgba(243, 207, 154, .6) 92%, rgba(248, 216, 162, .6) 96%, rgba(243, 207, 154, .6) 97%, rgba(243, 207, 154, .6) 97%, rgba(243, 207, 154, .6) 98%, rgba(243, 207, 154, .6) 100%),
    linear-gradient(90deg, rgba(238, 196, 135, .4) 0%, rgba(243, 207, 154, .4) 3%, rgba(238, 200, 138, .4) 49%, rgba(243, 207, 154, .4) 52%, rgba(250, 221, 176, .4) 54%, rgba(244, 208, 158, .4) 56%, rgba(243, 207, 154, .3) 59%, rgba(244, 208, 158, .4) 61%, rgba(250, 221, 176, .4) 64%, rgba(243, 207, 154, .4) 64%, rgba(244, 208, 158, .4) 66%, rgba(243, 207, 154, .4) 69%, rgba(248, 216, 162, .4) 71%, rgba(243, 207, 154, .4) 74%, rgba(243, 207, 154, .4) 76%, rgba(243, 207, 154, .4) 77%, rgba(243, 207, 154, .4) 80%, rgba(250, 221, 176, .4) 81%, rgba(243, 207, 154, .4) 83%, rgba(250, 221, 176, .4) 83%, rgba(250, 221, 176, .4) 85%, rgba(243, 207, 154, .4) 87%, rgba(250, 221, 176, .4) 89%, rgba(250, 221, 176, .4) 91%, rgba(243, 207, 154, .4) 92%, rgba(248, 216, 162, .4) 96%, rgba(243, 207, 154, .4) 97%, rgba(243, 207, 154, .4) 97%, rgba(243, 207, 154, .4) 98%, rgba(243, 207, 154, .4) 100%);

  /* Cherry/Rosewood grain (for buttons) */
  --wood-cherry:
    linear-gradient(to right, rgba(180, 100, 80, .9) 0%, rgba(200, 120, 100, .9) 3%, rgba(160, 90, 70, .9) 6%, rgba(200, 120, 100, .9) 6%, rgba(200, 120, 100, .9) 9%, rgba(190, 110, 85, .9) 12%, rgba(200, 120, 100, .9) 15%, rgba(210, 130, 110, .9) 17%, rgba(200, 120, 100, .9) 19%, rgba(200, 120, 100, .9) 21%, rgba(220, 140, 120, .9) 23%, rgba(220, 140, 120, .9) 25%, rgba(200, 120, 100, .9) 27%, rgba(180, 100, 80, .9) 29%, rgba(200, 120, 100, .9) 29%, rgba(200, 120, 100, .9) 32%, rgba(200, 120, 100, .9) 34%, rgba(200, 120, 100, .9) 37%, rgba(220, 140, 120, .9) 40%, rgba(220, 140, 120, .9) 43%, rgba(200, 120, 100, .9) 43%, rgba(200, 120, 100, .9) 44%, rgba(200, 120, 100, .9) 47%, rgba(180, 100, 80, .9) 49%, rgba(200, 120, 100, .9) 52%, rgba(220, 140, 120, .9) 54%, rgba(210, 130, 110, .9) 56%, rgba(200, 120, 100, .9) 59%, rgba(210, 130, 110, .9) 61%, rgba(220, 140, 120, .9) 64%, rgba(200, 120, 100, .9) 64%, rgba(210, 130, 110, .9) 66%, rgba(200, 120, 100, .9) 69%, rgba(160, 90, 70, .9) 71%, rgba(200, 120, 100, .9) 74%, rgba(200, 120, 100, .9) 76%, rgba(200, 120, 100, .9) 77%, rgba(200, 120, 100, .9) 80%, rgba(220, 140, 120, .9) 81%, rgba(200, 120, 100, .9) 83%, rgba(220, 140, 120, .9) 83%, rgba(220, 140, 120, .9) 85%, rgba(200, 120, 100, .9) 87%, rgba(220, 140, 120, .9) 89%, rgba(220, 140, 120, .9) 91%, rgba(200, 120, 100, .9) 92%, rgba(160, 90, 70, .9) 96%, rgba(200, 120, 100, .9) 97%, rgba(200, 120, 100, .9) 97%, rgba(200, 120, 100, .9) 98%, rgba(200, 120, 100, .9) 100%),
    linear-gradient(to left, rgba(180, 100, 80, .7) 0%, rgba(200, 120, 100, .7) 3%, rgba(160, 90, 70, .7) 6%, rgba(200, 120, 100, .7) 6%, rgba(200, 120, 100, .7) 9%, rgba(190, 110, 85, .7) 12%, rgba(200, 120, 100, .7) 15%, rgba(210, 130, 110, .7) 17%, rgba(200, 120, 100, .7) 19%, rgba(200, 120, 100, .7) 21%, rgba(220, 140, 120, .7) 23%, rgba(220, 140, 120, .7) 25%, rgba(200, 120, 100, .7) 27%, rgba(180, 100, 80, .7) 29%, rgba(200, 120, 100, .7) 29%, rgba(200, 120, 100, .7) 32%, rgba(200, 120, 100, .7) 34%, rgba(200, 120, 100, .7) 37%, rgba(220, 140, 120, .7) 40%, rgba(220, 140, 120, .7) 43%, rgba(200, 120, 100, .7) 43%, rgba(200, 120, 100, .7) 44%, rgba(200, 120, 100, .7) 47%, rgba(180, 100, 80, .7) 49%, rgba(200, 120, 100, .7) 52%, rgba(220, 140, 120, .7) 54%, rgba(210, 130, 110, .7) 56%, rgba(200, 120, 100, .7) 59%, rgba(210, 130, 110, .7) 61%, rgba(220, 140, 120, .7) 64%, rgba(200, 120, 100, .7) 64%, rgba(210, 130, 110, .7) 66%, rgba(200, 120, 100, .7) 69%, rgba(160, 90, 70, .7) 71%, rgba(200, 120, 100, .7) 74%, rgba(200, 120, 100, .7) 76%, rgba(200, 120, 100, .7) 77%, rgba(200, 120, 100, .7) 80%, rgba(220, 140, 120, .7) 81%, rgba(200, 120, 100, .7) 83%, rgba(220, 140, 120, .7) 83%, rgba(220, 140, 120, .7) 85%, rgba(200, 120, 100, .7) 87%, rgba(220, 140, 120, .7) 89%, rgba(220, 140, 120, .7) 91%, rgba(200, 120, 100, .7) 92%, rgba(160, 90, 70, .7) 96%, rgba(200, 120, 100, .7) 97%, rgba(200, 120, 100, .7) 97%, rgba(200, 120, 100, .7) 98%, rgba(200, 120, 100, .7) 100%);

  /* Walnut wood grain (for headers/footers) - lighter vertical grain */
  --wood-walnut:
    linear-gradient(to right, rgba(180, 130, 100, .8) 0%, rgba(190, 140, 110, .8) 3%, rgba(170, 120, 90, .8) 6%, rgba(190, 140, 110, .8) 6%, rgba(190, 140, 110, .8) 9%, rgba(185, 135, 105, .8) 12%, rgba(190, 140, 110, .8) 15%, rgba(200, 150, 120, .8) 17%, rgba(190, 140, 110, .8) 19%, rgba(190, 140, 110, .8) 21%, rgba(205, 155, 125, .8) 23%, rgba(205, 155, 125, .8) 25%, rgba(190, 140, 110, .8) 27%, rgba(180, 130, 100, .8) 29%, rgba(190, 140, 110, .8) 29%, rgba(190, 140, 110, .8) 32%, rgba(190, 140, 110, .8) 34%, rgba(190, 140, 110, .8) 37%, rgba(205, 155, 125, .8) 40%, rgba(205, 155, 125, .8) 43%, rgba(190, 140, 110, .8) 43%, rgba(190, 140, 110, .8) 44%, rgba(190, 140, 110, .8) 47%, rgba(180, 130, 100, .8) 49%, rgba(190, 140, 110, .8) 52%, rgba(205, 155, 125, .8) 54%, rgba(200, 150, 120, .8) 56%, rgba(190, 140, 110, .8) 59%, rgba(200, 150, 120, .8) 61%, rgba(205, 155, 125, .8) 64%, rgba(190, 140, 110, .8) 64%, rgba(200, 150, 120, .8) 66%, rgba(190, 140, 110, .8) 69%, rgba(170, 120, 90, .8) 71%, rgba(190, 140, 110, .8) 74%, rgba(190, 140, 110, .8) 76%, rgba(190, 140, 110, .8) 77%, rgba(190, 140, 110, .8) 80%, rgba(205, 155, 125, .8) 81%, rgba(190, 140, 110, .8) 83%, rgba(205, 155, 125, .8) 83%, rgba(205, 155, 125, .8) 85%, rgba(190, 140, 110, .8) 87%, rgba(205, 155, 125, .8) 89%, rgba(205, 155, 125, .8) 91%, rgba(190, 140, 110, .8) 92%, rgba(170, 120, 90, .8) 96%, rgba(190, 140, 110, .8) 97%, rgba(190, 140, 110, .8) 97%, rgba(190, 140, 110, .8) 98%, rgba(190, 140, 110, .8) 100%),
    linear-gradient(to left, rgba(180, 130, 100, .6) 0%, rgba(190, 140, 110, .6) 3%, rgba(170, 120, 90, .6) 6%, rgba(190, 140, 110, .6) 6%, rgba(190, 140, 110, .6) 9%, rgba(185, 135, 105, .6) 12%, rgba(190, 140, 110, .6) 15%, rgba(200, 150, 120, .6) 17%, rgba(190, 140, 110, .6) 19%, rgba(190, 140, 110, .6) 21%, rgba(205, 155, 125, .6) 23%, rgba(205, 155, 125, .6) 25%, rgba(190, 140, 110, .6) 27%, rgba(180, 130, 100, .6) 29%, rgba(190, 140, 110, .6) 29%, rgba(190, 140, 110, .6) 32%, rgba(190, 140, 110, .6) 34%, rgba(190, 140, 110, .6) 37%, rgba(205, 155, 125, .6) 40%, rgba(205, 155, 125, .6) 43%, rgba(190, 140, 110, .6) 43%, rgba(190, 140, 110, .6) 44%, rgba(190, 140, 110, .6) 47%, rgba(180, 130, 100, .6) 49%, rgba(190, 140, 110, .6) 52%, rgba(205, 155, 125, .6) 54%, rgba(200, 150, 120, .6) 56%, rgba(190, 140, 110, .6) 59%, rgba(200, 150, 120, .6) 61%, rgba(205, 155, 125, .6) 64%, rgba(190, 140, 110, .6) 64%, rgba(200, 150, 120, .6) 66%, rgba(190, 140, 110, .6) 69%, rgba(170, 120, 90, .6) 71%, rgba(190, 140, 110, .6) 74%, rgba(190, 140, 110, .6) 76%, rgba(190, 140, 110, .6) 77%, rgba(190, 140, 110, .6) 80%, rgba(205, 155, 125, .6) 81%, rgba(190, 140, 110, .6) 83%, rgba(205, 155, 125, .6) 83%, rgba(205, 155, 125, .6) 85%, rgba(190, 140, 110, .6) 87%, rgba(205, 155, 125, .6) 89%, rgba(205, 155, 125, .6) 91%, rgba(190, 140, 110, .6) 92%, rgba(170, 120, 90, .6) 96%, rgba(190, 140, 110, .6) 97%, rgba(190, 140, 110, .6) 97%, rgba(190, 140, 110, .6) 98%, rgba(190, 140, 110, .6) 100%),
    linear-gradient(90deg, rgba(180, 130, 100, .4) 0%, rgba(190, 140, 110, .4) 3%, rgba(180, 130, 100, .4) 49%, rgba(190, 140, 110, .4) 52%, rgba(205, 155, 125, .4) 54%, rgba(200, 150, 120, .4) 56%, rgba(190, 140, 110, .3) 59%, rgba(200, 150, 120, .4) 61%, rgba(205, 155, 125, .4) 64%, rgba(190, 140, 110, .4) 64%, rgba(200, 150, 120, .4) 66%, rgba(190, 140, 110, .4) 69%, rgba(170, 120, 90, .4) 71%, rgba(190, 140, 110, .4) 74%, rgba(190, 140, 110, .4) 76%, rgba(190, 140, 110, .4) 77%, rgba(190, 140, 110, .4) 80%, rgba(205, 155, 125, .4) 81%, rgba(190, 140, 110, .4) 83%, rgba(205, 155, 125, .4) 83%, rgba(205, 155, 125, .4) 85%, rgba(190, 140, 110, .4) 87%, rgba(205, 155, 125, .4) 89%, rgba(205, 155, 125, .4) 91%, rgba(190, 140, 110, .4) 92%, rgba(170, 120, 90, .4) 96%, rgba(190, 140, 110, .4) 97%, rgba(190, 140, 110, .4) 97%, rgba(190, 140, 110, .4) 98%, rgba(190, 140, 110, .4) 100%);

  /* Maple/Beechwood grain (for panels) */
  --wood-maple:
    linear-gradient(to right, rgba(250, 230, 200, .8) 0%, rgba(255, 240, 210, .8) 3%, rgba(248, 228, 198, .8) 6%, rgba(255, 240, 210, .8) 6%, rgba(255, 240, 210, .8) 9%, rgba(252, 235, 205, .8) 12%, rgba(255, 240, 210, .8) 15%, rgba(255, 245, 220, .8) 17%, rgba(255, 240, 210, .8) 19%, rgba(255, 240, 210, .8) 21%, rgba(255, 250, 225, .8) 23%, rgba(255, 250, 225, .8) 25%, rgba(255, 240, 210, .8) 27%, rgba(250, 230, 200, .8) 29%, rgba(255, 240, 210, .8) 29%, rgba(255, 240, 210, .8) 32%, rgba(255, 240, 210, .8) 34%, rgba(255, 240, 210, .8) 37%, rgba(255, 250, 225, .8) 40%, rgba(255, 250, 225, .8) 43%, rgba(255, 240, 210, .8) 43%, rgba(255, 240, 210, .8) 44%, rgba(255, 240, 210, .8) 47%, rgba(250, 230, 200, .8) 49%, rgba(255, 240, 210, .8) 52%, rgba(255, 250, 225, .8) 54%, rgba(255, 245, 220, .8) 56%, rgba(255, 240, 210, .8) 59%, rgba(255, 245, 220, .8) 61%, rgba(255, 250, 225, .8) 64%, rgba(255, 240, 210, .8) 64%, rgba(255, 245, 220, .8) 66%, rgba(255, 240, 210, .8) 69%, rgba(248, 228, 198, .8) 71%, rgba(255, 240, 210, .8) 74%, rgba(255, 240, 210, .8) 76%, rgba(255, 240, 210, .8) 77%, rgba(255, 240, 210, .8) 80%, rgba(255, 250, 225, .8) 81%, rgba(255, 240, 210, .8) 83%, rgba(255, 250, 225, .8) 83%, rgba(255, 250, 225, .8) 85%, rgba(255, 240, 210, .8) 87%, rgba(255, 250, 225, .8) 89%, rgba(255, 250, 225, .8) 91%, rgba(255, 240, 210, .8) 92%, rgba(248, 228, 198, .8) 96%, rgba(255, 240, 210, .8) 97%, rgba(255, 240, 210, .8) 97%, rgba(255, 240, 210, .8) 98%, rgba(255, 240, 210, .8) 100%),
    linear-gradient(to left, rgba(250, 230, 200, .6) 0%, rgba(255, 240, 210, .6) 3%, rgba(248, 228, 198, .6) 6%, rgba(255, 240, 210, .6) 6%, rgba(255, 240, 210, .6) 9%, rgba(252, 235, 205, .6) 12%, rgba(255, 240, 210, .6) 15%, rgba(255, 245, 220, .6) 17%, rgba(255, 240, 210, .6) 19%, rgba(255, 240, 210, .6) 21%, rgba(255, 250, 225, .6) 23%, rgba(255, 250, 225, .6) 25%, rgba(255, 240, 210, .6) 27%, rgba(250, 230, 200, .6) 29%, rgba(255, 240, 210, .6) 29%, rgba(255, 240, 210, .6) 32%, rgba(255, 240, 210, .6) 34%, rgba(255, 240, 210, .6) 37%, rgba(255, 250, 225, .6) 40%, rgba(255, 250, 225, .6) 43%, rgba(255, 240, 210, .6) 43%, rgba(255, 240, 210, .6) 44%, rgba(255, 240, 210, .6) 47%, rgba(250, 230, 200, .6) 49%, rgba(255, 240, 210, .6) 52%, rgba(255, 250, 225, .6) 54%, rgba(255, 245, 220, .6) 56%, rgba(255, 240, 210, .6) 59%, rgba(255, 245, 220, .6) 61%, rgba(255, 250, 225, .6) 64%, rgba(255, 240, 210, .6) 64%, rgba(255, 245, 220, .6) 66%, rgba(255, 240, 210, .6) 69%, rgba(248, 228, 198, .6) 71%, rgba(255, 240, 210, .6) 74%, rgba(255, 240, 210, .6) 76%, rgba(255, 240, 210, .6) 77%, rgba(255, 240, 210, .6) 80%, rgba(255, 250, 225, .6) 81%, rgba(255, 240, 210, .6) 83%, rgba(255, 250, 225, .6) 83%, rgba(255, 250, 225, .6) 85%, rgba(255, 240, 210, .6) 87%, rgba(255, 250, 225, .6) 89%, rgba(255, 250, 225, .6) 91%, rgba(255, 240, 210, .6) 92%, rgba(248, 228, 198, .6) 96%, rgba(255, 240, 210, .6) 97%, rgba(255, 240, 210, .6) 97%, rgba(255, 240, 210, .6) 98%, rgba(255, 240, 210, .6) 100%);

  /* Background colors for each wood type */
  --wood-original-bg: rgba(139, 69, 19, 1);
  --wood-cherry-bg: rgba(101, 67, 33, 1);
  --wood-walnut-bg: rgba(180, 130, 100, 1);
  --wood-maple-bg: rgba(245, 222, 179, 1);
}


/* Special theme effects */
[data-theme="retro-terminal"] * {
  font-family: 'Courier New', monospace !important;
}

[data-theme="retro-terminal"] #header::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(0deg,
      transparent 0px,
      transparent 2px,
      rgba(0, 255, 0, 0.03) 2px,
      rgba(0, 255, 0, 0.03) 4px);
  pointer-events: none;
}

[data-theme="cyberpunk"] button:hover,
[data-theme="cyberpunk"] .chip {
  box-shadow: 0 0 10px var(--accent);
}

[data-theme="cosmic-space"] body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(2px 2px at 20px 30px, #eee, transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(255, 255, 255, 0.8), transparent),
    radial-gradient(1px 1px at 90px 40px, #fff, transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(255, 255, 255, 0.6), transparent),
    radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
  background-repeat: repeat;
  background-size: 200px 100px;
  animation: sparkle 3s linear infinite;
  pointer-events: none;
  z-index: 1;
}

@keyframes sparkle {
  from {
    transform: translateX(0);
  }

  to {
    transform: translateX(200px);
  }
}

@media (max-width: 818px) {
  .footer-content {
    flex-direction: column;
    gap: 12px;
    text-align: center;
  }

  .footer-section {
    width: 100%;
  }
}

@media (max-width: 480px) {
  #footer {
    padding: 10px 12px;
  }

  .footer-content {
    gap: 10px;
  }

  .footer-section p {
    font-size: 0.8rem;
  }

  .footer-message p {
    font-size: 0.6rem;
  }

  .footer-link {
    font-size: 0.8rem;
  }

  .footer-donate {
    font-size: 0.8rem;
    padding: 5px 10px;
  }
}

/* SMOOTH SCROLLING */
html {
  scroll-behavior: smooth;
}